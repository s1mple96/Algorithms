package åŠ¨æ€è§„åˆ’é—®é¢˜;
//ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ envelopes ï¼Œå…¶ä¸­ envelopes[i] = [wi, hi] ï¼Œè¡¨ç¤ºç¬¬ i ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦ã€‚
//
// å½“å¦ä¸€ä¸ªä¿¡å°çš„å®½åº¦å’Œé«˜åº¦éƒ½æ¯”è¿™ä¸ªä¿¡å°å¤§çš„æ—¶å€™ï¼Œè¿™ä¸ªä¿¡å°å°±å¯ä»¥æ”¾è¿›å¦ä¸€ä¸ªä¿¡å°é‡Œï¼Œå¦‚åŒä¿„ç½—æ–¯å¥—å¨ƒä¸€æ ·ã€‚
//
// è¯·è®¡ç®— æœ€å¤šèƒ½æœ‰å¤šå°‘ä¸ª ä¿¡å°èƒ½ç»„æˆä¸€ç»„â€œä¿„ç½—æ–¯å¥—å¨ƒâ€ä¿¡å°ï¼ˆå³å¯ä»¥æŠŠä¸€ä¸ªä¿¡å°æ”¾åˆ°å¦ä¸€ä¸ªä¿¡å°é‡Œé¢ï¼‰ã€‚
//
// æ³¨æ„ï¼šä¸å…è®¸æ—‹è½¬ä¿¡å°ã€‚
//
//
// ç¤ºä¾‹ 1ï¼š
//
//
//è¾“å…¥ï¼šenvelopes = [[5,4],[6,4],[6,7],[2,3]]
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šæœ€å¤šä¿¡å°çš„ä¸ªæ•°ä¸º 3, ç»„åˆä¸º: [2,3] => [5,4] => [6,7]ã€‚
//
// ç¤ºä¾‹ 2ï¼š
//
//
//è¾“å…¥ï¼šenvelopes = [[1,1],[1,1],[1,1]]
//è¾“å‡ºï¼š1
//
//
//
//
// æç¤ºï¼š
//
//
// 1 <= envelopes.length <= 5000
// envelopes[i].length == 2
// 1 <= wi, hi <= 104
//
// Related Topics äºŒåˆ†æŸ¥æ‰¾ åŠ¨æ€è§„åˆ’
// ğŸ‘ 521 ğŸ‘ 0

import java.util.Arrays;

/**
 * @author s1mple
 * @create 2021/5/14-12:38
 */
public class GetMaxEnvelopes {

    /**
     * å…³é”®é—®é¢˜æ˜¯æ€ä¹ˆå¯¹ä¿¡å°è¿›è¡Œæ’åº,æˆ‘ä»¬å¯ä»¥å…ˆæŒ‰ç…§å®½åº¦è¿›è¡Œå‡åºæ’åº,å› ä¸ºå®½åº¦æ˜¯å‡åºçš„,
     * å½“æˆ‘ä»¬ä»å‰å¾€åçš„æ—¶å€™å°±å¯ä»¥å¿½ç•¥å®½åº¦,ç„¶ååªéœ€è¦æ¯”è¾ƒé«˜åº¦å³å¯,è¿™ä¸ªæ—¶å€™å°±å¯ä»¥è½¬æ¢ä¸ºæœ€é•¿ä¸Šå‡å­åºçš„é—®é¢˜äº†.
     * å¦‚æœå®½åº¦ç›¸åŒ,æˆ‘ä»¬åœ¨æŒ‰ç…§é«˜åº¦é™åºæ’åº,ä¸ºå•¥è¦é™åº,å› ä¸ºå¦‚æœå®½åº¦ç›¸åŒçš„æƒ…å†µ,åœ¨è¿™äº›å®½åº¦ç›¸åŒçš„ä¿¡å°ä¸­æˆ‘ä»¬
     * æœ€å¤šåªèƒ½é€‰æ‹©ä¸€ä¸ª,å¦‚æœæ˜¯å‡åºçš„è¯,å¯èƒ½ä¼šæœ‰å¤šä¸ªé€‰æ‹©,åªæœ‰é™åºæ‰èƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶.
     *
     */
    public int maxEnvelopes(int[][] envelopes) {
        //è¾¹ç•Œæ¡ä»¶åˆ¤æ–­
        if (envelopes == null || envelopes.length == 0) {
            return 0;
        }
        //å…ˆå¯¹ä¿¡å°è¿›è¡Œæ’åº
        Arrays.sort(envelopes, (int[] arr1, int[] arr2) ->{
            if (arr1[0] == arr2[0]) {
                return arr2[1] - arr1[1];
            } else {
                return arr1[0] - arr2[0];
            }
        });
        return lengthOfLIS(envelopes);
    }

    //æ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—
    public int lengthOfLIS(int[][] nums) {
        int[] dp = new int[nums.length];
        //åˆå§‹åŒ–æ•°ç»„dpçš„æ¯ä¸ªå€¼ä¸º1
        Arrays.fill(dp, 1);
        int max = 1;
        for (int i = 1; i < nums.length; i++) {
            for (int j = 0; j < i; j++) {
                //å¦‚æœå½“å‰çš„å€¼nums[i]å¤§äºnums[j],è¯´æ˜nums[i]å¯ä»¥å’Œ
                //nums[j] ç»“å°¾çš„ä¸Šå‡åºåˆ—æ„æˆä¸€ä¸ªæ–°çš„ä¸Šå‡å­åºåˆ—
                if (nums[i][1] > nums[j][1]) {
                    dp[i] = Math.max(dp[i], dp[j] + 1);
                }
            }
            //è®°å½•æ„æˆçš„æœ€å¤§å€¼
            max = Math.max(max, dp[i]);
        }
        return max;
    }
}
